<link rel="import" href="bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">


<dom-module id="my-login">
  <template>

    <firebase-auth
    id="auth"
    user="{{user}}"
    provider="google"
    on-error="handleError"
    status-known="{{statusKnown}}" >
      </firebase-auth>
      <template is="dom-if" if="[[user]]">
        <h1>Welcome to Polython 2017 [[user.displayName]]!</h1>
      </template>



      <paper-button risen on-tap="login" hidden$="[[user]]">Sing In</paper-button>
      <paper-button risen on-tap="logout" hidden$="[[!user]]">Sing Out</paper-button>




  </template>

  <script>
  Polymer({
      is:'my-login',
      properties : {
        user: {
          type: Object
        },
        statusKnown: {
          type: Object
        }
      },
      login: function() {
        return this.$.auth.signInWithPopup();
      },
      logout: function() {
        return this.$.auth.signOut();
      }
    });

  </script>
</dom-module>
